# poorMBSE

MBSEをテキストファイルとExcel/VBAなどによって実現するプロジェクト。
(日本の企業だと高いツールは導入しづらいし、ソフトのインストールも難しいのでありものを使う。)

ルール/方針)

要件/機能/論理/物理をそれぞれ1つのディレクトリとする。　　要件<-機能<-論理<-物理　依存関係を記述する。　ツールでチェック、対比表を作る。
(分割はユーザーが定義できることにする。純粋にSWだけなら、要件<-概要<-詳細　とか。)
```
要件－R1(電源)
　　　R2
　　　R3-R3.1
　　　　-R3.2

機能-F1(電源)
　　-F2(制御)

論理-L1(電源系)-L1.1(バッテリー)
　　　　　　　　-L1.2(バッテリー制御システム)
　　　　　　　　-L1.3(バッテリー温度センサー)
```

1つのディレクトリには、少なくともディレクトリ名と同名の.mdlファイル(主ファイル)を置く。(機能が多くて分割する場合は、主ファイルから呼び出す)

ファイルに状態、機能を記述する。

1つ下の機能、状態を呼び出し、参照することができる。呼び出すときは、「機能名.｛機能｜状態｝」とする。(例　Ctrl.init) 

上位の機能には相対位置指定(../Abc/Abc.mdl)でアクセスする。

ディレクトリ名は頭文字は大文字。そのほかの識別子は小文字。(1文字目にアンダーラインは使用不可)

ファイル/ディレクト構成の例)
```
/(プロジェクト名).***
     /Ctrl/Ctrl.***
     /Tempctrl/Tempctrl.***
     /Speedctrl/Speedctrl.***
```
各システムによって実現方法は異なるので、個別にモデルからの変換ツールを作成。(ソフトならコードに変換する。)

●モデルの記述
・機能(要求)名称

1カラム目から書く。　末尾にコロン(:)　　コロンより右側に何も書かない(スペース、タブ、改行、コメントはOK)

```
PowerSupply:
　　名称コメント　　名称とコロンの間に()で囲って書く　　　PowerSupply(パワーサプライ):
```     

・機能詳細
インデントをつける
<が入力、>が出力
```
     <Aaa,Bbb,Ccc
     >Xxx,Yyy
```
```
PowerSupply:
     <OnOff,Power_Input
     >Power_Output
```
・コメント
//　から改行まで


-----------------------------------------

ビジュアル化は標準と個別のツールで対応する。PlantUMLを使ってビジュアル化する。

TODO)
モデルの記法(YAML,Markdown) を考える。

ビジュアル化ツールを作る。

モデルチェックツールを作る。　(文法チェック、整合性チェック、)

変換ツールを作る。　(コード、　)
